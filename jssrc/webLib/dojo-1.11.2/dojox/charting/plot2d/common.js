//>>built
define("dojox/charting/plot2d/common","dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(s,t,r,u,w,v){var m=s.getObject("dojox.charting.plot2d.common",!0);return s.mixin(m,{doIfLoaded:v.doIfLoaded,makeStroke:function(b){if(!b)return b;if("string"==typeof b||b instanceof r)b={color:b};return u.makeParameters(u.defaultStroke,b)},augmentColor:function(b,d){var a=new r(b),c=new r(d);c.a=a.a;return c},augmentStroke:function(b,d){var a=
m.makeStroke(b);a&&(a.color=m.augmentColor(a.color,d));return a},augmentFill:function(b,d){new r(d);return"string"==typeof b||b instanceof r?m.augmentColor(b,d):b},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(b,d){for(var a=s.delegate(m.defaultStats),c=0;c<b.length;++c)for(var f=b[c],e=0;e<f.data.length;e++)if(!d(f.data[e])){if("number"==typeof f.data[e]){var e=a.vmin,h=a.vmax;t.forEach(f.data,
function(c,b){if(!d(c)){var f=b+1,e=c;isNaN(e)&&(e=0);a.hmin=Math.min(a.hmin,f);a.hmax=Math.max(a.hmax,f);a.vmin=Math.min(a.vmin,e);a.vmax=Math.max(a.vmax,e)}})}else{var g=a.hmin,n=a.hmax,e=a.vmin,h=a.vmax;(!("xmin"in f)||!("xmax"in f)||!("ymin"in f)||!("ymax"in f))&&t.forEach(f.data,function(c,b){if(!d(c)){var f="x"in c?c.x:b+1,e=c.y;isNaN(f)&&(f=0);isNaN(e)&&(e=0);a.hmin=Math.min(a.hmin,f);a.hmax=Math.max(a.hmax,f);a.vmin=Math.min(a.vmin,e);a.vmax=Math.max(a.vmax,e)}});"xmin"in f&&(a.hmin=Math.min(g,
f.xmin));"xmax"in f&&(a.hmax=Math.max(n,f.xmax))}"ymin"in f&&(a.vmin=Math.min(e,f.ymin));"ymax"in f&&(a.vmax=Math.max(h,f.ymax));break}return a},calculateBarSize:function(b,d,a){a||(a=1);var c=d.gap,c=(b-2*c)/a;"minBarSize"in d&&(c=Math.max(c,d.minBarSize));"maxBarSize"in d&&(c=Math.min(c,d.maxBarSize));c=Math.max(c,1);return{size:c,gap:(b-c*a)/2}},collectStackedStats:function(b){var d=s.clone(m.defaultStats);if(b.length){d.hmin=Math.min(d.hmin,1);d.hmax=w.foldl(b,"seed, run -\x3e Math.max(seed, run.data.length)",
d.hmax);for(var a=0;a<d.hmax;++a){var c=b[0].data[a],c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);d.vmin=Math.min(d.vmin,c);for(var f=1;f<b.length;++f){var e=b[f].data[a],e=e&&("number"==typeof e?e:e.y);isNaN(e)&&(e=0);c+=e}d.vmax=Math.max(d.vmax,c)}}return d},curve:function(b,d){var a=b.slice(0);"x"==d&&(a[a.length]=a[0]);return t.map(a,function(c,b){if(0==b)return"M"+c.x+","+c.y;if(isNaN(d)){if("X"==d||"x"==d||"S"==d){var e,h=a[b-1],g=a[b],n,k,p,l=1/6;1==b?(e="x"==d?a[a.length-2]:h,l=1/3):e=
a[b-2];b==a.length-1?(n="x"==d?a[1]:g,l=1/3):n=a[b+1];k=Math.sqrt((g.x-h.x)*(g.x-h.x)+(g.y-h.y)*(g.y-h.y));p=Math.sqrt((g.x-e.x)*(g.x-e.x)+(g.y-e.y)*(g.y-e.y));var m=Math.sqrt((n.x-h.x)*(n.x-h.x)+(n.y-h.y)*(n.y-h.y)),q=p*l,l=m*l;q>k/2&&l>k/2?(q=k/2,l=k/2):q>k/2?(q=k/2,l=k/2*m/p):l>k/2&&(l=k/2,q=k/2*p/m);"S"==d&&(e==h&&(q=0),g==n&&(l=0));k=h.x+q*(g.x-e.x)/p;e=h.y+q*(g.y-e.y)/p;p=g.x-l*(n.x-h.x)/m;h=g.y-l*(n.y-h.y)/m}}else return g=c.x-a[b-1].x,"C"+(c.x-(d-1)*(g/d))+","+a[b-1].y+" "+(c.x-g/d)+","+c.y+
" "+c.x+","+c.y;return"C"+(k+","+e+" "+p+","+h+" "+g.x+","+g.y)}).join(" ")},getLabel:function(b,d,a){return v.doIfLoaded("dojo/number",function(c){return(d?c.format(b,{places:a}):c.format(b))||""},function(){return d?b.toFixed(a):b.toString()})}})});
/// common.js.map