define(["rias"],function(f){return function(b,e,a){var d=this.fetchByName(e,"pathname",f.host._typeStr),c=this.extractFilenameNoExt(d);b=this.changeFileExt(d,"");e=b.replace(/^appModule/,"rsfsModule");var g=["","","{}"];/^[\w\/]+$/.test(b)?(a=this.readJson(e+".rsfs","rsfsModule",!0),a={_opened:a._opened&&a._opened.sessionid?a._opened:{sessionid:""},_count:0<a._count?a._count:49,position:0<a.position?a.position:0,items:f.isArray(a.items)?a.items:[]},0<a.items.length&&0<a.position&&(a.position>=a.items.length&&(a.position=a.items.length-1),a.position--,(d=a.items[a.position])&&d.rsfVersion&&(d=this.extractDir(e)+"/"+c+"_rsf/"+c+"_"+d.rsfVersion+".rsf",c=this.readJson(d,"rsfsModule",!0),a.rsfVersion=c._rsfVersion=0<c._rsfVersion?c._rsfVersion:1,c=f.toJson(c,{prettyPrint:!0,includeFunc:!0,loopToString:!1,errorToString:!0,simpleObject:!0}),g[2]=c,g=f.substitute('define([\n\t"rias"${0}\n], function(rias${1}){\n\treturn ${2}\n\t\n});\n',g),this.writeText(b+".js","appModule",g,!0))),b=this.writeJson(e+".rsfs","rsfsModule",a,{},!0),b={success:1===b,value:b}):b={success:!1,value:"\u6a21\u5757\u540d\u5305\u542b\u4e0d\u5408\u89c4\u5b57\u7b26..."};return b}});