define("rias dojo/_base/event dojo/on dojo/dnd/Selector dijit/_WidgetBase rias/riasw/layout/Panel rias/riasw/layout/AccordionPanel".split(" "),function(b,l,w,n,p,m,q){function r(a){function b(c){var g,f,h,e;for(g in c)if(c.hasOwnProperty(g)&&(f=c[g],f._ord||d.concat(b(f)),1===f._ord)){e=!0;for(h in a)f._mapper.hasOwnProperty(h)?f._mapper[h]!==a[h]&&(e=!1):e=!1;e&&d.push(f._mapper)}}var d=[];b(k);return d}function t(a,c){c&&(k={});var d=[],e;b.isArray(a)?d=a.concat():a&&(d=d.push(a));b.forEach(d,function(a){b.isArray(a.riaswType)||(a.riaswType=[a.riaswType]);e=1;b.forEach(a.riaswType,function(c){b.setObject(c,{_ord:e++,_mapper:a},k)})});return k}b.theme.loadCss([b.riasd.getRiasdUrl("rias/riasd/studio/resources/WidgetPalette.css")]);var u=b.declare("rias.riasw.studio.WidgetPaletteItem",p,{iconUrl:"",caption:"",description:"",riaswType:"",category:"",palette:null,template:'\x3cspan class\x3d"paletteItemContainer"\x3e\x3cspan class\x3d"paletteItemImageContainer"\x3e\x3cimg class\x3d"paletteItemImage" border\x3d"0"/\x3e\x3c/span\x3e\x3cspan class\x3d"paletteItemLabelContainer"\x3e\x3cspan class\x3d"paletteItemLabel"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e',_paletteItemGroup:null,_paletteItemMoreConnects:[],_paletteItemHelpConnects:[],buildRendering:function(){if(this.palette){var a=this.domNode=b.dom.create("div",{className:"riaswWidgetPaletteItem"});a.innerHTML=this.template;a._paletteItem=this;b.dom.setAttr(a,"selType",this.riaswType);a=a.firstChild;b.dom.setAttr(a,"tabIndex","0");a.onclick=function(){return!1};var c=a.querySelector("img");c&&(this.imgClass?b.dom.addClass(c,this.imgClass):c.src=b.theme.toThemeUrl(this.iconUrl));a=a.querySelector(".paletteItemLabel");a.appendChild(b.dom.doc.createTextNode(this.caption));var c=b.html.entities.encode(b.has("ie")?a.outerText:a.textContent),d;for(d=c.length-1;0<d;d--)b.contains("_-",c[d])?(c=c.substr(0,d+1)+"\x26#8203;"+c.substr(d+1),a.innerHTML=c):c[d].toLowerCase()!==c[d]&&(c=c.substr(0,d)+"\x26#8203;"+c.substr(d),a.innerHTML=c);this.domNode.componentClassName=this.riaswType;b.dom.setSelectable(this.domNode,!1)}else console.error('The paletteitem of "'+this.params.riaswType+'" must have a parent palette.')},postCreate:function(){this.inherited(arguments);this._collectionName="";this.isDesktop&&(this._collectionName+=", "+b.i18n.riasw.isDesktop);this.isMobile&&(this._collectionName+=", "+b.i18n.riasw.isMobile);this.isTesting&&(this._collectionName+=", "+b.i18n.riasw.isTesting);this._collectionName&&(this._collectionName=this._collectionName.substring(2));this.connect(this.domNode,"onmouseover","itemMouseOverHandler");this.connect(this.domNode,"onmouseout","itemMouseOutHandler");this.connect(this.domNode,"onmousedown","itemMouseDownHandler");this.connect(this.domNode,"onmouseup","itemMouseUpHandler");this.connect(this.domNode,"onkeydown","itemKeyDownHandler")},destroy:function(){this.select(!1);this._tooltipDialog&&(b.dom.closePopup(this._tooltipDialog),this._tooltipDialog.destroyRecursive(),this._tooltipDialog=null);this.inherited(arguments)},itemMouseOverHandler:function(a){this._mouseover=!0;this.select()||this.raised(!0);setTimeout(function(){if(this._mouseover&&0===this.palette.moreItems.length&&this._tooltipNode!==this.domNode&&(this._tooltipNode&&b.hideTooltip(this._tooltipPos),this._tooltipNode=this.domNode)){this._tooltipPos=b.dom.position(this.domNode,!0);var a;a='\x3cdiv class\x3d"paletteTooltip"\x3e'+('\x3cdiv class\x3d"paletteTooltipCurrent"\x3e\x3cspan class\x3d"paletteTooltipCurrentWidget"\x3e'+b.html.entities.encode(this.description)+'\x3c/span\x3e \x3cspan class\x3d"paletteTooltipCurrentLibrary"\x3e('+this._collectionName+")\x3c/span\x3e\x3c/div\x3e");b.popTooltip({content:a,around:this._tooltipPos});setTimeout(function(){b.hideTooltip(this._tooltipPos);this._tooltipPos=this._tooltipNode=null}.bind(this),5E3)}}.bind(this),750)},itemMouseOutHandler:function(a){this._mouseover=!1;this._tooltipPos&&(b.hideTooltip(this._tooltipPos),this._tooltipPos=this._tooltipNode=null);this.raised(!1)},itemMouseDownHandler:function(a){this.focus()},itemMouseUpHandler:function(a){this.select()||this.palette.removeSelectionAll();this.select(!0)},itemKeyDownHandler:function(a){a.keyCode===b.keys.ENTER&&(this.palette.removeSelectionAll(),this.select(!0))},_raised:!1,raised:function(a){if(void 0===a||null===a||a===this._raised)return this._raised;this._raised=a;if(!this._raised)return a=b.indexOf(this.palette.raisedItems,this),0<=a&&this.palette.raisedItems.splice(a,1),b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemRaised"),this.select()||b.dom.addClass(this.domNode,"riaswWidgetPaletteItemFlat"),this._raised;b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemFlat");b.dom.addClass(this.domNode,"riaswWidgetPaletteItemRaised");this.palette.raisedItems.push(this);return this._raised},selected:!1,select:function(a){if(void 0==a||a===this.selected)return this.selected;this.selected=!!a;if(!this.selected)return a=b.indexOf(this.palette.selectedItems,this),0<=a&&(this.palette.selectedItems.splice(a,1),this.palette.onSelect(this)),b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemSelect riaswWidgetPaletteItemSunken"),this.selected;this.raised(!1);b.dom.addClass(this.domNode,"riaswWidgetPaletteItemSelect riaswWidgetPaletteItemSunken");this.palette.selectedItems.push(this);this.palette.onSelect(this);return this.selected},paletteItemMoreCloseCleanup:function(){var a;if(this._moreShowing){for(a=0;a<this._paletteItemMoreConnects.length;a++)this._paletteItemMoreConnects[a].remove();this._paletteItemMoreConnects=[];a=b.indexOf(this.palette.moreItems,this);0<=a&&this.palette.moreItems.splice(a,1)}this._moreShowing=!1;this._tooltipDialog&&(b.dom.closePopup(this._tooltipDialog),this._tooltipDialog.destroyRecursive(),this._tooltipDialog=null)}}),k={},v={studio:0,layout:1,form:2,widet:3,mobile:4,store:5};l=b.declare("rias.riasw.studio.WidgetPalette",[m],{paletteItems:{},raisedItems:[],selectedItems:[],moreItems:[],dndParams:{},dndController:n,postCreate:function(){this.inherited(arguments);b.dom.addClass(this.domNode,"riaswWidgetPalette");var a=b.mixin({},this.dndParams);a.dndController&&(this.dndController=a.dndController);delete a.dndController;this.dndController&&(b.isString(this.dndController)&&(this.dndController=b.getObject(this.dndController)),this.dndController=new this.dndController(this.domNode,a))},destroy:function(){this.removeSelectionAll();this._categoryOwner&&(this._categoryOwner.destroyRecursive(),this._categoryOwner=null);this.paletteItems={};this.dndController&&!b.isString(this.dndController)&&b.destroy(this.dndController);this.inherited(arguments)},_getCategory:function(a){a=a.replace(/\./g,"_");this._categoryOwner||(this._categoryOwner=b.createRiasw(q,{ownerRiasw:this,id:this.id+"_categoryOwner",region:"center",style:{padding:"0px"}}),this._categoryOwner._categoryList={},this._categoryOwner.placeAt(this));if(!b.getObject(a,!1,this._categoryOwner._categoryList)){var c=b.createRiasw(m,{ownerRiasw:this,_riaswIdOfModule:"_category"+b.upperCaseFirst(a),id:this.id+"_category_"+a,region:"center",style:{padding:"0px"},caption:a,extractContent:"false",preventCache:"false",preload:"false",refreshOnShow:"false",_riaswChildren:[]});b.dom.addClass(c.domNode,"paletteLayoutIcons");this._categoryOwner.own(c);b.setObject(a,c,this._categoryOwner._categoryList);c.placeAt(this._categoryOwner,v[a])}return b.getObject(a,!1,this._categoryOwner._categoryList)},_createPaletteItem:function(a){var c=this,d=[],e=1,g,f,d=b.isArray(a.riaswType)?a.riaswType.concat():[a.riaswType];b.forEach(d,function(d){b.getObject(d,!1,c.paletteItems)||(1!==e&&g||(a.palette=c,a.riaswType=d,b.forEach(b.isArray(a.category)?a.category:[a.category],function(e){f=c._getCategory(e);g=b.createRiasw(u,b.mixin({ownerRiasw:c,_riaswIdOfModule:b.getUniqueId(b._getUniqueCat(d),c._riasrModule)},a));g.placeAt(f)})),b.setObject(d,g,c.paletteItems),++e)})},_createPalette:function(a,c){var d=this;c||(d.removeSelectionAll(),d._categoryOwner&&(d._categoryOwner.destroyRecursive(),d._categoryOwner=null),d.paletteItems={});a||(a={});a.isPaletteItem=!0;var e=r(a);b.forEach(e,b.hitch(d,function(a){d._createPaletteItem(a)}));d.resize()},loadPalette:function(a,c,d){this._loaded=void 0;t(b.getRiaswMappers(0),!0);this._createPalette(c,d);this._loaded=!0},refresh:function(){this._loaded=void 0;this.loadPalette()},_filter:function(a){return null},_getPaletteItemsSameGroup:function(a){return[]},removeSelectionAll:function(){for(var a;this.selectedItems.length;)a=this.selectedItems[0],a.select(!1),a._tooltipDialog&&a.paletteItemMoreCloseCleanup();for(;this.raisedItems.length;)a=this.raisedItems[0],a.raised(!1)},onSelect:function(a){},onDragStart:function(a){this.removeSelectionAll()},onDragEnd:function(a){this.removeSelectionAll()},onDragMove:function(a){},nop:function(){return!1}});l._riasdMeta={visual:!0,iconClass:"riaswIconContainerIcon",iconClass16:"riaswIconContainerIcon16",defaultParams:{},initialSize:{},property:{}};return l});