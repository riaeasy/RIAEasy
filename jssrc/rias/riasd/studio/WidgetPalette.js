define("rias dojo/_base/event dojo/on dojo/dnd/Selector dojox/html/entities dijit/_WidgetBase dijit/_KeyNavContainer rias/riasw/layout/Panel rias/riasw/layout/AccordionPanel".split(" "),function(b,m,y,q,n,r,t,p,u){function v(a){function b(e){var g,f,h,k;for(g in e)if(e.hasOwnProperty(g)&&(f=e[g],f._ord||d.concat(b(f)),1===f._ord)){k=!0;for(h in a)f._mapper.hasOwnProperty(h)?f._mapper[h]!==a[h]&&(k=!1):k=!1;k&&d.push(f._mapper)}}var d=[];b(l);return d}function w(a,c){c&&(l={});var d=[],e;b.isArray(a)?d=a.concat():a&&(d=d.push(a));b.forEach(d,function(a){b.isArray(a.riasType)||(a.riasType=[a.riasType]);e=1;b.forEach(a.riasType,function(c){b.setObject(c,{_ord:e++,_mapper:a},l)})});return l}b.riasd.loadCss(["rias/riasd/studio/resources/WidgetPalette.css"]);var x=b.declare("rias.riasw.studio.WidgetPaletteItem",r,{iconUrl:"",caption:"",description:"",riasType:"",category:"",palette:null,template:'\x3ca href\x3d"javascript:void(0)"\x3e\x3cspan class\x3d"paletteItemContainer"\x3e\x3cspan class\x3d"paletteItemImageContainer"\x3e\x3cimg class\x3d"paletteItemImage" border\x3d"0"/\x3e\x3c/span\x3e\x3cspan class\x3d"paletteItemLabelContainer"\x3e\x3cspan class\x3d"paletteItemLabel"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e',_paletteItemGroup:null,_paletteItemMoreConnects:[],_paletteItemHelpConnects:[],buildRendering:function(){if(this.palette){var a=this.domNode=b.dom.create("div",{className:"riaswWidgetPaletteItem"});a.innerHTML=this.template;a._paletteItem=this;b.dom.setAttr(a,"selType",this.riasType);a=a.firstChild;b.dom.setAttr(a,"tabIndex","0");a.onclick=function(){return!1};var c=a.querySelector("img");try{c.src=this.iconUrl}catch(d){}a=a.querySelector(".paletteItemLabel");a.appendChild(b.doc.createTextNode(this.caption));var c=n.encode(b.has("ie")?a.outerText:a.textContent),e;for(e=c.length-1;0<e;e--)0<=b.indexOf("_-",c[e])?(c=c.substr(0,e+1)+"\x26#8203;"+c.substr(e+1),a.innerHTML=c):c[e].toLowerCase()!==c[e]&&(c=c.substr(0,e)+"\x26#8203;"+c.substr(e),a.innerHTML=c);this.domNode.componentClassName=this.riasType;b.dom.setSelectable(this.domNode,!1)}else console.error('The paletteitem of "'+this.params.riasType+'" must have a parent palette.')},postCreate:function(){this._collectionName="";this.isDesktop&&(this._collectionName+=", "+b.i18n.riasw.isDesktop);this.isMobile&&(this._collectionName+=", "+b.i18n.riasw.isMobile);this.isTesting&&(this._collectionName+=", "+b.i18n.riasw.isTesting);this._collectionName&&(this._collectionName=this._collectionName.substring(2));this.connect(this.domNode,"onmouseover","itemMouseOverHandler");this.connect(this.domNode,"onmouseout","itemMouseOutHandler");this.connect(this.domNode,"onmousedown","itemMouseDownHandler");this.connect(this.domNode,"onmouseup","itemMouseUpHandler");this.connect(this.domNode,"onkeydown","itemKeyDownHandler")},destroy:function(){this.selected(!1);this._tooltipDialog&&(b.closePopup(this._tooltipDialog),this._tooltipDialog.destroyRecursive(),this._tooltipDialog=null);this.inherited(arguments)},startup:function(){},isFocusable:function(){return"none"!==b.dom.getStyle(this.domNode,"display")},focus:function(){b.dom.focus(this.domNode)},itemMouseOverHandler:function(a){this._mouseover=!0;this.selected()||this.raised(!0);setTimeout(function(){if(this._mouseover&&0===this.palette.moreItems.length&&this._tooltipNode!==this.domNode&&(this._tooltipNode&&b.hideTooltip(this._tooltipPos),this._tooltipNode=this.domNode)){this._tooltipPos=b.dom.position(this.domNode,!0);var a;a='\x3cdiv class\x3d"paletteTooltip"\x3e'+('\x3cdiv class\x3d"paletteTooltipCurrent"\x3e\x3cspan class\x3d"paletteTooltipCurrentWidget"\x3e'+n.encode(this.description)+'\x3c/span\x3e \x3cspan class\x3d"paletteTooltipCurrentLibrary"\x3e('+this._collectionName+")\x3c/span\x3e\x3c/div\x3e");b.showTooltip(a,this._tooltipPos);setTimeout(function(){b.hideTooltip(this._tooltipPos);this._tooltipPos=this._tooltipNode=null}.bind(this),5E3)}}.bind(this),750)},itemMouseOutHandler:function(a){this._mouseover=!1;this._tooltipPos&&(b.hideTooltip(this._tooltipPos),this._tooltipPos=this._tooltipNode=null);this.raised(!1)},itemMouseDownHandler:function(a){this.focus()},itemMouseUpHandler:function(a){this.selected()||this.palette.removeSelectionAll();this.selected(!0)},itemKeyDownHandler:function(a){a.keyCode===b.keys.ENTER&&(this.palette.removeSelectionAll(),this.selected(!0))},_raised:!1,raised:function(a){if(void 0===a||null===a||a===this._raised)return this._raised;this._raised=a;if(!this._raised)return a=b.indexOf(this.palette.raisedItems,this),0<=a&&this.palette.raisedItems.splice(a,1),b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemRaised"),this.selected()||b.dom.addClass(this.domNode,"riaswWidgetPaletteItemFlat"),this._raised;b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemFlat");b.dom.addClass(this.domNode,"riaswWidgetPaletteItemRaised");this.palette.raisedItems.push(this);return this._raised},_selected:!1,selected:function(a){if(void 0===a||null===a||a===this._selected)return this._selected;this._selected=a;if(!this._selected)return a=b.indexOf(this.palette.selectedItems,this),0<=a&&this.palette.selectedItems.splice(a,1),b.dom.removeClass(this.domNode,"riaswWidgetPaletteItemSelect riaswWidgetPaletteItemSunken"),this._selected;this.raised(!1);b.dom.addClass(this.domNode,"riaswWidgetPaletteItemSelect riaswWidgetPaletteItemSunken");this.palette.selectedItems.push(this);return this._selected},paletteItemMoreCloseCleanup:function(){var a;if(this._moreShowing){for(a=0;a<this._paletteItemMoreConnects.length;a++)this._paletteItemMoreConnects[a].remove();this._paletteItemMoreConnects=[];a=b.indexOf(this.palette.moreItems,this);0<=a&&this.palette.moreItems.splice(a,1)}this._moreShowing=!1;this._tooltipDialog&&(b.closePopup(this._tooltipDialog),this._tooltipDialog.destroyRecursive(),this._tooltipDialog=null)}}),l={};m=b.declare("rias.riasw.studio.WidgetPalette",[p,t],{paletteItems:{},raisedItems:[],selectedItems:[],moreItems:[],dndParams:{},dndController:q,postCreate:function(){b.dom.addClass(this.domNode,"riaswWidgetPalette");var a=b.mixin({},this.dndParams);a.dndController&&(this.dndController=a.dndController);delete a.dndController;this.dndController&&(b.isString(this.dndController)&&(this.dndController=b.getObject(this.dndController)),this.dndController=new this.dndController(this.domNode,a))},destroy:function(){this.removeSelectionAll();this._categoryOwner&&(this._categoryOwner.destroyRecursive(),this._categoryOwner=null);this.paletteItems={};this.dndController&&!b.isString(this.dndController)&&this.dndController.destroy();this.inherited(arguments)},resize:function(){this.inherited(arguments)},_getCategory:function(a){this._categoryOwner||(this._categoryOwner=b.createRiasw(u,{ownerRiasw:this,id:this.id+"_categoryOwner",region:"center",style:{padding:"0px"}}),this._categoryOwner._categoryList={},this._categoryOwner.placeAt(this));if(!b.getObject(a,!1,this._categoryOwner._categoryList)){var c=b.createRiasw(p,{ownerRiasw:this,_riaswIdOfModule:"_category"+b.upperCaseFirst(a),id:this.id+"_category_"+a.replace(/\./g,"_"),region:"center",style:{padding:"0px"},caption:a,extractContent:"false",preventCache:"false",preload:"false",refreshOnShow:"false",_riaswChildren:[]});b.dom.addClass(c.domNode,"paletteLayoutIcons");this._categoryOwner.own(c);b.setObject(a,c,this._categoryOwner._categoryList);c.placeAt(this._categoryOwner)}return b.getObject(a,!1,this._categoryOwner._categoryList)},_createPaletteItem:function(a){var c=this,d=[],e=1,g,f,d=b.isArray(a.riasType)?a.riasType.concat():[a.riasType];b.forEach(d,function(d){b.getObject(d,!1,c.paletteItems)||(1!==e&&g||(a.palette=c,a.riasType=d,b.forEach(b.isArray(a.category)?a.category:[a.category],function(e){f=c._getCategory(e);g=b.createRiasw(x,b.mixin({ownerRiasw:c,id:b.getUniqueId(b._getUniqueCat(d))},a));g.placeAt(f)})),b.setObject(d,g,c.paletteItems),++e)})},_createPalette:function(a,c){var d=this;c||(d.removeSelectionAll(),d._categoryOwner&&(d._categoryOwner.destroyRecursive(),d._categoryOwner=null),d.paletteItems={});a||(a={});a.isPaletteItem=!0;var e=v(a);b.forEach(e,b.hitch(d,function(a){d._createPaletteItem(a)}));d.resize()},loadPalette:function(a,c,d){delete this._loaded;w(b.getRiaswMappers(0),!0);this._createPalette(c,d);this._loaded=!0},refresh:function(){delete this._loaded;this.loadPalette()},_filter:function(a){return null},_getPaletteItemsSameGroup:function(a){return[]},removeSelectionAll:function(){for(var a;this.selectedItems.length;)a=this.selectedItems[0],a.selected(!1),a._tooltipDialog&&a.paletteItemMoreCloseCleanup();for(;this.raisedItems.length;)a=this.raisedItems[0],a.raised(!1)},onDragStart:function(a){this.removeSelectionAll()},onDragEnd:function(a){(a=b.dom.focusedNode())&&a.blur&&a.blur();this.removeSelectionAll()},onDragMove:function(a){},nop:function(){return!1}});m._riasdMeta={visual:!0,iconClass:"riaswIconContainerIcon",iconClass16:"riaswIconContainerIcon16",defaultParams:{},initialSize:{},property:{}};return m});