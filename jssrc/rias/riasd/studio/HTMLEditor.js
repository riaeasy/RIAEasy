define(["rias","rias/riasw/widget/Editor"],function(b,e){var f=b.declare("rias.riasw.studio.HTMLEditor",e,{postCreate:function(){this.inherited(arguments);this.contentDomPreFilters.push(b.hitch(this,this._preDomFilter));this.contentDomPostFilters.push(b.hitch(this,this._postDomFilter))},startup:function(){this._started||(this.inherited(arguments),this.own(b.after(dojox.editor.plugins.Save.prototype,"save",function(a){b.publish("__riasdWidgetModified",{widget:this.editor,value:a})},!0),b.before(this,"close",function(a){1==a&&b.publish("__riasdWidgetModified",{widget:this,value:this.getValue(!0)})},!0)))},_preDomFilter:function(a){var c,d;for(a=a?a.firstChild:void 0;a;)d=a,a=a.nextSibling,1==d.nodeType&&(c=d.getAttribute("widgetId"))&&b.registry.byId(c)&&d.parentNode.removeChild(d)},_postDomFilter:function(a){return a}});f._riasdMeta={visual:!0,iconClass:"riaswHTMLEditorIcon",iconClass16:"riaswHTMLEditorIcon16",defaultParams:function(a){var c=e._riasdMeta.defaultParams({plugins:"all"});delete a.plugins;return a=b.mixinDeep({},{plugins:c.plugins,extraPlugins:c.extraPlugins},a)},initialSize:{},resizable:"none",property:{minHeight:{datatype:"string",defaultValue:"1em",title:"minHeight"},updateInterval:{datatype:"number",defaultValue:200,title:"Timeout Change"},value:{datatype:"string",description:"The value of the editor.",hidden:!1},tabIndex:{datatype:"string",description:"Widget tab index.",hidden:!1}}};return f});